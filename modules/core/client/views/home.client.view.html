<div class="" ng-controller="HomeController">
  <div id="map-container" class="col-md-8 col-xs-12">
    <div class="row">
      <leaflet center="center" geojson="geojson" controls="controls" markers="markers" defaults="defaults" legend="legend" url-hash-center="yes" tiles ="tiles" width="62vw" height="83vh"></leaflet>
    </div>
  </div>

  <div class="col-md-4 col-xs-12">
    <div class="panel-group wrap" id="accordion" role="tablist" aria-multiselectable="true">
      <div class="panel" ng-repeat="site in vm.sites">
        <div class="panel-heading" role="tab" id="headingOne">
          <h4 class="panel-title">
            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#{{ site.properties.ID }}" aria-expanded="false" aria-controls="collapseOne" class="collapsed">{{ site.properties.nom }}</a>
          </h4>
        </div>
        <div id="{{ site.properties.ID }}" class="panel-collapse collapse" aria-expanded="false" style="height: 0;" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            <p class="siteInfos"><img src="{{ site.properties.image1 }}" alt=""/></p>
            <p class="siteInfos"><img src="{{ site.properties.image2 }}" alt=""/></p>
            <p class="siteInfos">{{ site.properties.description }}</p>
            <br>
            <p class="siteInfos">{{ site.properties.taches }}</p>
            <br>
            <div data-ng-controller="ContactFormController as vm">
              <div flex-sm="100" flex-gt-sm="90" flex-gt-md="70" flex-gt-lg="50" class="md-whiteframe-z2">
                <md-content class="md-padding">
                  <form name="contactForm" data-ng-submit="vm.sendMail()">
                    <md-input-container>
                      <label for="name">Nom:</label>
                      <input type="text" name="name" placeholder="Azerty" data-ng-model="vm.contactName">
                    </md-input-container>

                    <md-input-container>
                      <label for="email">Email:</label>
                      <input type="email" name="email" placeholder="azerty@test.fr" data-ng-model="vm.contactEmail">
                    </md-input-container>

                    <md-input-container>
                      <label for="message">Message:</label>
                      <textarea name="message" columns="1" required data-ng-model="vm.contactMsg"></textarea>
                    </md-input-container>

                    <md-button type="submit" class="md-primary" ng-class="{'md-raised md-hue-1':(contactForm.$dirty && contactForm.$valid)}">Envoyer</md-button>
                  </form>
                </md-content>
              </div>
            </div>
            </form>
          </div><!-- end of div panel-body -->
        </div><!-- end of div {{ site.properties.ID }} -->
      </div><!-- end of div panel -->
    </div><!-- end of div panel-group wrap -->
  </div><!-- end of div col-md-5 col-xs-12 -->
</div><!-- end of div HomeController -->
